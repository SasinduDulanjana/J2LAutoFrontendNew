<div style="background-color: white; min-width:320px; min-height:220px;">
  <div *ngIf="loading" style="text-align:center;">
    <span class="dialog-loader">
      <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
        <circle cx="24" cy="24" r="20" stroke="#e0e0e0" stroke-width="6" />
        <path d="M24 4a20 20 0 1 1-14.14 34.14" stroke="#1976d2" stroke-width="6" stroke-linecap="round">
          <animateTransform attributeName="transform" type="rotate" from="0 24 24" to="360 24 24" dur="1s" repeatCount="indefinite" />
        </path>
      </svg>
    </span>
    <span style="font-size:1.1rem;color:#1976d2;font-weight:500;">Loading customers...</span>
  </div>
  <div *ngIf="!loading">
    <div class="search-container d-flex align-items-center mb-2">
      <input type="text" placeholder="Search Customers" [(ngModel)]="searchQuery" (input)="onSearch()"
        class="form-control search-input" />
      <button cButton color="success" size="sm" style="margin-left:8px;vertical-align:middle;" (click)="openAddCustomerDialog()">
        <svg cIcon name="cil-user-follow" style="margin-right:4px;"></svg> Add Customer
      </button>
    </div>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Phone</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let customer of filteredCustomers" (click)="selectCustomer(customer)" [ngClass]="{'table-success': customer.id === 0}">
          <td>
            <ng-container *ngIf="customer.id === 0; else normalCustomer">
              <strong>Walk-in Customer</strong>
            </ng-container>
            <ng-template #normalCustomer>{{ customer.name }}</ng-template>
          </td>
          <td>{{ customer.phone }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>