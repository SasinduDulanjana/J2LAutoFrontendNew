<div class="container py-4">
  <div class="card shadow-sm mb-4">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
      <h4 class="mb-0">Profit and Loss Report</h4>
      <div class="sale-header-actions d-flex gap-2">
        <button class="custom-outline-btn export-btn" (click)="exportToPDF()">
          <mat-icon class="me-1">picture_as_pdf</mat-icon>
          <span>Export PDF</span>
        </button>
      </div>
    </div>
    <div class="card-body">
      <div class="row mb-4">
        <div class="col-md-4 mb-3 mb-md-0">
          <div class="summary-card bg-primary text-white p-3 rounded shadow-sm">
            <div class="fs-6">Total Purchases</div>
            <div class="fs-4 fw-bold">{{ totalPurchases | number:'1.2-2' }}</div>
          </div>
        </div>
        <div class="col-md-4 mb-3 mb-md-0">
          <div class="summary-card bg-success text-white p-3 rounded shadow-sm">
            <div class="fs-6">Total Sales</div>
            <div class="fs-4 fw-bold">{{ totalSales | number:'1.2-2' }}</div>
          </div>
        </div>
        <div class="col-md-4 mb-3 mb-md-0">
          <div class="summary-card bg-secondary text-white p-3 rounded shadow-sm">
            <div class="fs-6">Total Discounts</div>
            <div class="fs-4 fw-bold">{{ totalDiscounts | number:'1.2-2' }}</div>
          </div>
        </div>
      </div>
      <div class="row mb-4">
        <div class="col-md-4 mb-3 mb-md-0">
          <div class="summary-card bg-danger text-white p-3 rounded shadow-sm">
            <div class="fs-6">Due Amount to Pay</div>
            <div class="fs-4 fw-bold">{{ dueToPay | number:'1.2-2' }}</div>
          </div>
        </div>
        <div class="col-md-4 mb-3 mb-md-0">
          <div class="summary-card bg-danger text-white p-3 rounded shadow-sm">
            <div class="fs-6">Due Amount to Receive</div>
            <div class="fs-4 fw-bold">{{ dueToReceive | number:'1.2-2' }}</div>
          </div>
        </div>
        <div class="col-md-4 mb-3 mb-md-0">
          <div class="summary-card bg-info text-white p-3 rounded shadow-sm">
            <div class="fs-6">Net Profit</div>
            <div class="fs-4 fw-bold">{{ netProfit | number:'1.2-2' }}</div>
          </div>
        </div>
      </div>
      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          <thead class="table-light">
            <tr>
              <th>Month</th>
              <th>Sales</th>
              <th>Purchases</th>
              <th>Net Profit</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of profitLossRows">
              <td>{{ row.month }}</td>
              <td>{{ row.sales | number:'1.2-2' }}</td>
              <td>{{ row.purchases | number:'1.2-2' }}</td>
              <td>{{ row.netProfit | number:'1.2-2' }}</td>
            </tr>
            <tr *ngIf="profitLossRows.length === 0">
              <td colspan="4" class="text-center text-muted">No data available.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
