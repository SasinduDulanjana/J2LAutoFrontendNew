<div class="p-3" style="min-width:320px;">
  <h5 class="mb-3">Edit Retail Price</h5>
  <div *ngIf="error" class="alert alert-danger py-1">{{ error }}</div>
  <div class="mb-2">
    <label class="form-label">Product</label>
    <div class="fw-bold">{{ data?.product?.product?.productName || data?.product?.productName }}</div>
  </div>
  <div class="mb-2">
    <label class="form-label">Existing Discount Amount</label>
    <div>{{ (data?.product?.discountAmount || data?.product?.price || 0) | number:'1.2-2' }}</div>
  </div>
  <div class="mb-2">
    <label class="form-label">New Discount Amount</label>
    <input type="number" class="form-control" [(ngModel)]="newDiscount" min="0" (ngModelChange)="totalDiscount = existingDiscount + (newDiscount || 0)" />
  </div>
  <div class="mb-2">
    <label class="form-label">Total Discount Amount</label>
    <input type="number" class="form-control" [(ngModel)]="totalDiscount" min="0" readonly />
  </div>
  <div class="d-flex justify-content-end gap-2 mt-3">
    <button class="btn btn-secondary" (click)="cancel()" [disabled]="loading">Cancel</button>
    <button class="btn btn-primary" (click)="save()" [disabled]="loading">Save</button>
  </div>
</div>
